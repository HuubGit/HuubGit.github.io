<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project1</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            background-color: #f4f4f4;
            color: #333;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 2.5em;
            color: #333;
        }

        .content {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h2 {
            font-size: 2em;
            color: #007BFF;
            margin-bottom: 20px;
        }

        h3 {
            font-size: 1.5em;
            color: #555;
            margin-top: 30px;
            margin-bottom: 10px;
        }

        p {
            font-size: 1em;
            margin-bottom: 20px;
            color: #666;
        }

        .image-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .image-column {
            width: 32%;
            text-align: center;
        }

        .image-column h4 {
            font-size: 1.5em;
            margin-bottom: 10px;
            color: #007BFF;
        }

        .image-column img {
            width: 60%;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }

        footer {
            text-align: center;
            margin-top: 40px;
            color: #888;
        }
    </style>
</head>
<body>
    <header>
        <h1>Project1</h1>
    </header>

    <section class="content">
        <h2>1. Overview</h2>
        <p>The goal of this assignment is to take the digitized Prokudin-Gorskii glass plate images and, 
            using image processing techniques, automatically produce a color image with as few visual artifacts as possible.
            In order to do these, I uses three methods steps by steps to get more accurate and delicate pictures, that is single scale search, multisacle pyramid search and edge align</p>
        <h2>2. Details</h2>
        <h3>2.1 Single scale search</h3>
        <p>Single scale search is to exhaustively search over a window of possible displacements, which I set [-10,10]. Then, I use Normalized Cross-Correlation (NCC)
            to evaluate the performance of alignment. But for different r,g,b picture, the brightness may be different too, so I first do (im - np.mean(im)), 
            then I got the relative relationship among pixels. After that I do NCC and search which displacements is the best one. What's more, because the border of the picture always contains
            a lot of noise, and due to the feature of np.roll which rolls some columes or rows to the other side, I only count for 90% of the picture central when caculate NCC.
        </p>
        <h3>2.2 multisacle search</h3>
        <p>The exhaustive search only works well when the picture is small or it only need small displacements. When the picture is large, it takes pretty long time
            to align and the performance is not good enough. Therefore, I use image pyramid to shrink the picture until its width/length is about 200-300 pixels. Then I do 
            exhaustive search, then base on the previous displacements, do exhaustive search again on next level picture but with smaller displacements window, for example, I take [-5,5]
            Do it until we are back to the orginal size, and the displacements is what we want. In practice, this method is really faster compare to single-scale, it only take about 20-30 second for 
            the .tif picture to be correctly aligned.
        </p>
        <h2>B&W: Edge alignment</h2>
        <p>However, merely with multisacle search won't solve any alignment. Some picture like emir.tif still performs bad. I think the reason is probably beause the empire is in the center of the picture 
            and the brightness of r,g,b channels vary a lot. Therefore, I try a new way. I use cv2.Canny to find out where the edges are, then I do alignment according to these edges using method 2.2 . 
            After I get the displacements, I apply it to the original r,g,b picture. And it turns out that it works really well.
        </p>

        <h3>Picture Show</h3>
        <div class="image-container">
            <div class="image-column">
                <h4>Single-scale</h4>
                <img src="media/cathedral.jpg" alt="pic1">
                <img src="media/cathedral.jpg" alt="pic3">
            </div>
            <div class="image-column">
                <h4>Pyramid</h4>
                <img src="media/cathedral.jpg" alt="pic2">
                <img src="media/cathedral.jpg" alt="pic4">
            </div>
        </div>

        <p>图片下方的文字描述，简要说明图片内容。</p>
        <p>des to pic</p>
    </section>

    <footer>
        <p>&copy; 2024 Pengfei Tian - Project1</p>
    </footer>
</body>
</html>
